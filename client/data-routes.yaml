- path: '/devices/{device_id}/output'
  method: POST
  summary: Write amplitude to device output. This endpoint always returns 200 "OK" regardless of if the device is actually connected.
  bodyParams:
    - name: percent
      summary: What percentage of amplitude to write
      required: false
      default: 100
      type: Integer
    - name: duration_ms
      type: Integer
      summary: Sustain the given output percentage for n milliseconds.
      required: false
      default: 3000
  examples:
    - description: 'By default maximum amplitude is sent for 3 seconds:'
      responseBody: OK
    - description: 'This outputs 10% amplitude for 10 seconds:'
      requestBody:
        percent: 10
        duration_ms: 10000



- path: '/devices/{device_id}/input'
  method: GET
  summary: Read a stream of amplitude from device input. This requires that your HTTP Client supports Server Sent Events (SSE).
  bodyParams: []
  examples:
    - description: Unlike the typical HTTP request/response cycle, SSE works such that the server response is an open pipe sending data at will. The response below shows what one data even contains.
      responseBody:
        type: input
        timestamp: 1416007639847
        percent: 38
        from:
          user:
            id: 1
          device:
            id: a
            ap:
              ssid: littlebitsTC
              strength: 4
              mac: ab:12:cd:34:ef:56



- path: '/devices'
  method: GET
  summary: ''
  examples:
    - description: Get information about all devices.
      responseCode: 200
      responseBody:
        - id: "foobar"
          label: "My cloudBit"
          subscribers: []
          subscriptions: []
          user_id: "1"
          wifi: {}


- path: '/devices/{device_id}'
  method: POST
  summary: Create a device in the database and associate it with the user. User is known through the `access_token` being used.
  examples:
    - description: Any field `PUT` accepts may be used here.
      requestBody:
        label: Water my plants
      responseBody:
        id: a84hf038ierj
        label: Water my plants
        subscribers: []
        subscriptions: []
        user_id: "1"
        wifi: {}



- path: '/devices/{device_id}'
  method: GET
  summary: ''
  examples:
    - description: Get device information and current settings.
      responseBody:
        id: "foobar"
        label: "My cloudBit"
        subscribers: []
        subscriptions: []
        user_id: "1"
        wifi: {}



- path: '/devices/{device_id}'
  method: PUT
  summary: ''
  examples:
    - description: Update device settings.
      requestBody:
        label: 'Door Bell'
      responseBody:
        id: "foobar"
        label: "Door Bell"
        subscribers: []
        subscriptions: []
        user_id: "1"
        wifi: {}



- path: '/devices/{device_id}'
  method: DELETE
  summary: Remove device record from database, including user association.




- path: '/subscriptions'
  method: POST
  summary: Create a subscription
  bodyParams:
    - name: subscriber_id
      summary: A device ID or URI.
    - name: publisher_id
      summary: A device ID
    - name: publisher_events
      summary: What types of events do you want the subscriber to receive?



- path: '/subscriptions'
  method: GET
  summary: Get the subscriptions, subscribers, or both of a device or registerd callback.



- path: '/subscriptions'
  method: DELETE
  summary: Delete either a subscription between devices or a registered callback.
